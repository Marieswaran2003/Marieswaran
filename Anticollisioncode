#include <Wire.h>
#include <MPU6050.h>
#include <LiquidCrystal.h>
LiquidCrystal lcd(2, 3, 4, 5, 6, 7);
int triggerPin = 10;  
int echoPin = 9;  
float durationMicroSec, d;
MPU6050 mpu;

void setup() 
{
   Wire.begin();
pinMode(8,OUTPUT);
pinMode(12,OUTPUT);
pinMode(triggerPin, OUTPUT);
  pinMode(echoPin, INPUT);
lcd.begin(16,2);
     lcd.setCursor(0,0);
    lcd.print("  ANTI COLLISION ");
     lcd.setCursor(0,1);
     lcd.print("     SYSTEM ");
    delay(1000);
   Serial.begin(9600);  

void loop() 
{
    int16_t ax, ay, az;
  int16_t gx, gy, gz;

  mpu.getMotion6(&ax, &ay, &az, &gx, &gy, &gz);
float c= analogRead(A0);
delay(100); 
c = c * (5.0 / 1023.0);
delay(100); 

  digitalWrite(triggerPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(triggerPin, LOW);

  durationMicroSec = pulseIn(echoPin, HIGH);
  d= 0.017 * durationMicroSec;


 lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("D:");
   lcd.print(d);
lcd.setCursor(9,0);
lcd.print("I:"); 
lcd.print(c); 
lcd.setCursor(0,1);
lcd.print("axil:"); 
lcd.print(az); 

delay(1500);



if(d<10)
{

 analogWrite(11,64);
}

else if(c>3)
{

 analogWrite(12,127);
}
else if(az<0)
{

  digitalWrite(8,HIGH);
  Serial.println("AT");
delay(500);

else
{
  digitalWrite(8,LOW);
  analogWrite(11, 255);
   analogWrite(12,255);
}

}
